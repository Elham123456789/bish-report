<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>تقرير تنفيذ برنامج — وزارة التعليم</title>
<style>
  body {
    direction: rtl;
    font-family: Arial, sans-serif;
    font-size: 16px;
    margin: 20px;
  }
  /* Ensure printable page size and hide interactive elements when printing */
  @page {
    size: A4 portrait;
    margin: 15mm;
  }
  @media print {
    #printBtn, .toolbar, .note { display: none !important; }
  }
  /* Layout for images grid */
  table.images { width: 100%; }
  table.images td { width: 50%; vertical-align: top; padding: 5px; }
  table.images img { max-width: 100%; height: auto; display: block; margin-bottom: 5px; }
  /* Styling for toolbar buttons and note text */
  .toolbar button { cursor: pointer; }
  .toolbar { margin: 5px 0; }
  .note { font-size: 14px; color: #555; }
  /* Remove focus outline on buttons and editable fields */
  button:focus, [contenteditable]:focus { outline: none; }
</style>
</head>
<body>

<img src="header.jpg" alt="هيدر وزارة التعليم" style="width:100%;">

<p>الإدارة العامة للتعليم بـ <span id="region" contenteditable="true" data-placeholder="....">....</span></p>
<p>قطاع التعليم بـ <span id="sector" contenteditable="true" data-placeholder="....">....</span></p>
<p>اسم المدرسة <span id="school" contenteditable="true" data-placeholder="....">....</span></p>

<button id="printBtn" onclick="window.print()">الحفظ والطباعة</button>

<h2>تقرير تنفيذ برنامج (قابل للتعديل)</h2>

<table>
  <tr>
    <td>مقدّم البرنامج <span id="presenter" contenteditable="true" data-placeholder="....">....</span></td>
    <td>اسم الجهة المنفذة <span id="entity" contenteditable="true" data-placeholder="....">....</span></td>
    <td>المكان <span id="place" contenteditable="true" data-placeholder="....">....</span></td>
  </tr>
  <tr>
    <td>التاريخ (هجري أم القرى) <span id="date" contenteditable="true" data-placeholder="....">....</span></td>
    <td>المستفيدون <span id="beneficiaries" contenteditable="true" data-placeholder="....">....</span></td>
    <td></td>
  </tr>
  <tr>
    <td>عدد الحضور <span id="attendees" contenteditable="true" data-placeholder="....">....</span></td>
    <td>مدة البرنامج <span id="duration" contenteditable="true" data-placeholder="....">....</span></td>
    <td></td>
  </tr>
</table>

<h3>الأهداف</h3>
<div class="toolbar">
  <button onmousedown="changeFontSize('objectives', 1); return false;">+A</button>
  <button onmousedown="changeFontSize('objectives', -1); return false;">−A</button>
  <button onmousedown="document.execCommand('bold', false, null); return false;">B</button>
</div>
<div id="objectives" contenteditable="true" data-placeholder="اكتب الأهداف هنا…">اكتب الأهداف هنا…</div>

<h3>نبذة عن البرنامج</h3>
<div class="toolbar">
  <button onmousedown="changeFontSize('summary', 1); return false;">+A</button>
  <button onmousedown="changeFontSize('summary', -1); return false;">−A</button>
  <button onmousedown="document.execCommand('bold', false, null); return false;">B</button>
</div>
<div id="summary" contenteditable="true" data-placeholder="اكتب النبذة هنا…">اكتب النبذة هنا…</div>

<table class="images">
  <tr>
    <td>
      <label>
        <input id="file1" type="file" accept="image/jpeg" style="display:none;" onchange="previewImage(event, 'img1')">
        <img id="img1" src="" alt="">
        <p class="note">تنبيه: يُفضّل استخدام صور بصيغة JPG للحصول على أفضل جودة في التقرير</p>
      </label>
    </td>
    <td>
      <label>
        <input id="file2" type="file" accept="image/jpeg" style="display:none;" onchange="previewImage(event, 'img2')">
        <img id="img2" src="" alt="">
        <p class="note">تنبيه: يُفضّل استخدام صور بصيغة JPG للحصول على أفضل جودة في التقرير</p>
      </label>
    </td>
  </tr>
  <tr>
    <td>
      <label>
        <input id="file3" type="file" accept="image/jpeg" style="display:none;" onchange="previewImage(event, 'img3')">
        <img id="img3" src="" alt="">
        <p class="note">تنبيه: يُفضّل استخدام صور بصيغة JPG للحصول على أفضل جودة في التقرير</p>
      </label>
    </td>
    <td>
      <label>
        <input id="file4" type="file" accept="image/jpeg" style="display:none;" onchange="previewImage(event, 'img4')">
        <img id="img4" src="" alt="">
        <p class="note">تنبيه: يُفضّل استخدام صور بصيغة JPG للحصول على أفضل جودة في التقرير</p>
      </label>
    </td>
  </tr>
</table>

<h4>رائد النشاط</h4>
<p id="teacherName" contenteditable="true" data-placeholder="اسم المعلم">اسم المعلم</p>
<h4>مدير المدرسة</h4>
<p id="principalName" contenteditable="true" data-placeholder="فهد ....">فهد ....</p>

<script>
  function changeFontSize(elementId, delta) {
    var elem = document.getElementById(elementId);
    var currentSize = window.getComputedStyle(elem, null).getPropertyValue('font-size');
    var newSize = parseFloat(currentSize) + delta;
    if (newSize < 1) newSize = 1;
    elem.style.fontSize = newSize + 'px';
  }
  function previewImage(event, imgId) {
    var input = event.target;
    if (input.files && input.files[0]) {
      var reader = new FileReader();
      reader.onload = function(e) {
        document.getElementById(imgId).src = e.target.result;
      };
      reader.readAsDataURL(input.files[0]);
    }
  }
  window.onafterprint = function() {
    // Clear all user inputs (text and images) after printing
    document.querySelectorAll('[contenteditable]').forEach(function(elem) {
      if (elem.dataset.placeholder !== undefined) {
        elem.innerHTML = elem.dataset.placeholder;
      }
    });
    // Clear images
    ['img1','img2','img3','img4'].forEach(function(id) {
      document.getElementById(id).src = "";
    });
    // Reset file inputs
    ['file1','file2','file3','file4'].forEach(function(id) {
      document.getElementById(id).value = "";
    });
  };
</script>

</body>
</html>
